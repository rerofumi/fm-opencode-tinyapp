# 追加機能仕様

## 1. LLM連携機能

チャットの入力内容をLLMを利用して推敲する機能を追加する。

### 1.1. 設定画面

LLMを利用するために、以下の設定項目を追加する。
設定画面に「LLM」タブを追加し、以下の項目を設定できるようにする。

- **Provider**: OpenAI API互換
- **Base URL**: APIのベースURL (例: `https://api.openai.com/v1`)
- **API Key**: APIキー (パスワード入力)
- **Model**: 利用するモデル名 (例: `gpt-4o`)
- **Prompt**: 文章校正を依頼するためのプロンプト。テキストエリアで編集可能とし、デフォルト値を設定する。

#### デフォルトプロンプト

```
以下の文章をより自然で分かりやすく、丁寧な表現に修正してください。
誤字脱字や文法的な誤りも修正してください。

---
{text}
```

#### 設定の永続化

既存の設定保存先である config.json に LLM 関連設定も保存する。

### 1.2. チャット入力画面

- 送信ボタンの上に「推敲」ボタンを追加する。
- 「推敲」ボタンをクリックすると、現在の入力内容と設定されたプロンプトを元にLLMに文章校正を依頼する。
- LLMからの返却があった場合、入力欄の内容を返却された内容で上書きする。
- LLMへの依頼中は「推敲」ボタンを無効化し、ローディング表示などを行う。
